---
title: "Webhooks"
description: "Webhooks provide a mechanism for real-time notifications when specific events occur within Dodo Payments, enabling seamless automation and integration with your application."
og:image: /images/cover-images/Webhooks.webp
icon: "webhook"
---

<Frame>
    <img src="/images/cover-images/Webhooks.webp" alt="Webhook Cover Image"/>
</Frame>

## Overview

Webhooks enable real-time communication between Dodo Payments and your application by sending HTTP POST requests to your specified endpoints when events occur. This guide covers webhook setup, event handling, security best practices, and troubleshooting.

<CardGroup cols={2}>
  <Card title="Quick Setup" icon="bolt" href="#getting-started">
    Get webhooks running in minutes with our step-by-step guide
  </Card>
  <Card title="Event Reference" icon="list" href="/developer-resources/webhooks/intents/webhook-events-guide">
    Complete list of all webhook events and their payloads
  </Card>
  <Card title="Security Guide" icon="shield" href="#securing-webhooks">
    Implement signature verification and secure webhook handling
  </Card>
  <Card title="Troubleshooting" icon="wrench" href="#troubleshooting">
    Debug common webhook issues and implementation problems
  </Card>
</CardGroup>

## Key Features

<Note>
**Standards Compliance:** Our webhooks follow the [Standard Webhooks](https://standardwebhooks.com/) specification, ensuring compatibility with existing tools and libraries.

**Built-in Security:** All webhooks include HMAC SHA256 signatures for verification and tamper detection.

**Reliability:** Automatic retries with exponential backoff ensure webhook delivery even during temporary outages.
</Note>

## Prerequisites

Before implementing webhooks, ensure you have:

- A publicly accessible HTTPS endpoint to receive webhook events
- SSL certificate for your webhook endpoint (required for production)
- Basic understanding of HTTP POST requests and JSON parsing
- Webhook secret key from your Dodo Payments dashboard

## Getting Started

<Steps>
<Step title="Access Webhook Settings">
    Navigate to the DodoPayments Dashboard and go to `Settings > Webhooks`.
</Step>

<Step title="Create Webhook Endpoint">
    Click on `Add Webhook` to create a new webhook endpoint.
    
    <Info>
    You can create up to **5 webhook endpoints** to receive notifications at different URLs or for different purposes.
    </Info>
</Step>

<Step title="Configure Endpoint">
    Enter the URL where you want to receive webhook events.
    
</Step>

<Step title="Get Secret Key">
    Obtain your webhook `Secret Key` from the settings page. You'll use this to verify the authenticity of received webhooks.
    
    <Warning>
    Keep your webhook secret key secure and never expose it in client-side code or public repositories.
    </Warning>
</Step>

<Step title="Rotate Secret (Optional)">
    If needed, you can rotate your webhook secret for enhanced security. Click the **Rotate Secret** button in your webhook settings.
    
    <Warning>
    Rotating the secret will **expire it** and **replace it** with a new one. The old secret will only be valid for the next 24 hours. Afterward, trying to verify with the old secret will fail.
    </Warning>
    
    <Info>
    Use secret rotation periodically or immediately if you suspect your current secret has been compromised.
    </Info>
</Step>
</Steps>


## Configuring Subscribed Events

Merchants can configure which specific events they want to receive for each webhook endpoint.

### Accessing Event Configuration

<Steps>
<Step title="Navigate to Webhook Details">
    Go to your Dodo Payments Dashboard and navigate to `Settings > Webhooks`.
</Step>

<Step title="Select Your Endpoint">
    Click on the webhook endpoint you want to configure.
</Step>

<Step title="Open Event Settings">
    In the webhook details page, you'll see a "Subscribed events" section. Click the **Edit** button to modify your event subscriptions.
</Step>
</Steps>

### Managing Event Subscriptions

<Steps>
<Step title="View Available Events">
    The interface displays all available webhook events organized in a hierarchical structure. Events are grouped by category (e.g., `dispute`, `payment`, `subscription`).
</Step>

<Step title="Search and Filter">
    Use the search bar to quickly find specific events by typing event names or keywords.
</Step>

<Step title="Select Events">
    Check the boxes next to the events you want to receive. You can:
    - Select individual sub-events (e.g., `dispute.accepted`, `dispute.challenged`)
    - Select parent events to receive all related sub-events
    - Mix and match specific events based on your needs
</Step>

<Step title="Review Event Details">
    Hover over the information icon (â“˜) next to each event to see a description of when that event is triggered.
</Step>

<Step title="Save Configuration">
    Click **Save** to apply your changes, or **Cancel** to discard modifications.
</Step>
</Steps>

<Info>
By default, webhook endpoints are configured to listen to all events. You can customize this to receive only the events relevant to your integration.
</Info>


<Warning>
If you deselect all events, your webhook endpoint will not receive any notifications. Make sure to select at least the events your application needs to function properly.
</Warning>

## Webhook Delivery

### Timeouts
- Webhooks have a `15-second` timeout window, including both connection and read timeouts.
- If a webhook delivery attempt fails, we will retry sending the event using exponential backoff to avoid overloading your system.

### Retries
- We will attempt a maximum of **8 retries** for each failed webhook delivery.
- Each retry follows a specific schedule based on the failure of the preceding attempt:

<Steps>
<Step title="Retry Schedule">
    The retry attempts follow this schedule:
    
    - **Immediately** (first retry)
    - **5 seconds** after the first failure
    - **5 minutes** after the second failure
    - **30 minutes** after the third failure
    - **2 hours** after the fourth failure
    - **5 hours** after the fifth failure
    - **10 hours** after the sixth failure
    - **10 hours** after the seventh failure (final retry)
</Step>

<Step title="Total Timeline">
    For example, if a webhook fails three times before succeeding, it will be delivered roughly **35 minutes and 5 seconds** following the first attempt.
</Step>
</Steps>

<Info>
If a webhook endpoint is removed or disabled, all delivery attempts to that endpoint will be stopped immediately.
</Info>

<Tip>
You can also use the Dodo Payments dashboard to manually retry each message at any time, or automatically retry ("Recover") all failed messages.
</Tip>

### Idempotency
- Each webhook event contains a unique `webhook-id` header. Use this to implement idempotency and avoid processing the same event multiple times.
- Even if you receive the same event more than once (due to retries), your system should handle it gracefully without causing errors or duplicate actions.

### Ordering
- Webhook delivery order is not guaranteed, as webhooks may be delivered out of order due to retries or network issues.
- Ensure your system can handle events arriving out of order by using the `webhook-id` header to process events correctly.

<Info>Please note that you will receive the latest payload at the time of delivery, regardless of when the webhook event was emitted.</Info>

## Securing Webhooks

Security is crucial for webhook implementations. Always validate payloads, use HTTPS, and implement proper signature verification.

### Signature Verification

Every webhook request includes cryptographic signatures to ensure authenticity and prevent tampering.

<Tabs>
  <Tab title="Node.js (Standard Webhooks)">
    ```javascript webhook-handler.js icon="js" expandable
    const { Webhook } = require('standardwebhooks');
    const express = require('express');
    const app = express();
    
    // Middleware to capture raw body for signature verification
    app.use('/webhook/dodo-payments', express.raw({ type: 'application/json' }));
    
    const webhook = new Webhook(process.env.DODO_WEBHOOK_SECRET);
    
    app.post('/webhook/dodo-payments', async (req, res) => {
      try {
        const body = req.body;
        const headers = {
          'webhook-id': req.headers['webhook-id'],
          'webhook-signature': req.headers['webhook-signature'],
          'webhook-timestamp': req.headers['webhook-timestamp']
        };
        
        // Verify the webhook signature
        const payload = webhook.verify(body, headers);
        
        console.log('Verified webhook payload:', payload);
        
        // Process the event
        await handleWebhookEvent(payload);
        
        res.status(200).json({ received: true });
      } catch (error) {
        console.error('Webhook verification failed:', error);
        res.status(400).json({ error: 'Webhook verification failed' });
      }
    });
    
    async function handleWebhookEvent(event) {
      switch (event.type) {
        case 'payment.succeeded':
          await handlePaymentSuccess(event.data);
          break;
        case 'subscription.active':
          await handleSubscriptionActive(event.data);
          break;
        // Handle other events...
        default:
          console.log(`Unhandled event type: ${event.type}`);
      }
    }
    ```
  </Tab>
  
  <Tab title="Python (Standard Webhooks)">
    ```python webhook-handler.py icon="python" expandable
    from standardwebhooks import Webhook
    from flask import Flask, request, jsonify
    import os
    import json
    
    app = Flask(__name__)
    webhook = Webhook(os.environ['DODO_WEBHOOK_SECRET'])
    
    @app.route('/webhook/dodo-payments', methods=['POST'])
    def handle_webhook():
        try:
            body = request.get_data()
            headers = {
                'webhook-id': request.headers.get('webhook-id'),
                'webhook-signature': request.headers.get('webhook-signature'),
                'webhook-timestamp': request.headers.get('webhook-timestamp')
            }
            
            # Verify the webhook signature
            payload = webhook.verify(body, headers)
            
            print(f"Verified webhook payload: {payload}")
            
            # Process the event
            handle_webhook_event(payload)
            
            return jsonify({'received': True}), 200
            
        except Exception as e:
            print(f"Webhook verification failed: {str(e)}")
            return jsonify({'error': 'Webhook verification failed'}), 400
    
    def handle_webhook_event(event):
        event_type = event.get('type')
        event_data = event.get('data')
        
        if event_type == 'payment.succeeded':
            handle_payment_success(event_data)
        elif event_type == 'subscription.active':
            handle_subscription_active(event_data)
        # Handle other events...
        else:
            print(f"Unhandled event type: {event_type}")
    ```
  </Tab>
  
  <Tab title="Manual Verification">
    ```javascript manual-verification.js icon="js" expandable
    const crypto = require('crypto');
    
    function verifyWebhookSignature(payload, signature, timestamp, webhookId, secret) {
      // Construct the signed payload string
      const signedPayload = `${webhookId}.${timestamp}.${payload}`;
      
      // Compute HMAC SHA256
      const expectedSignature = crypto
        .createHmac('sha256', secret)
        .update(signedPayload, 'utf8')
        .digest('base64');
      
      // Compare signatures (use crypto.timingSafeEqual to prevent timing attacks)
      const actualSignature = signature.replace('v1,', ''); // Remove version prefix
      
      return crypto.timingSafeEqual(
        Buffer.from(expectedSignature, 'base64'),
        Buffer.from(actualSignature, 'base64')
      );
    }
    
    app.post('/webhook/dodo-payments', express.raw({ type: 'application/json' }), (req, res) => {
      const payload = req.body.toString();
      const signature = req.headers['webhook-signature'];
      const timestamp = req.headers['webhook-timestamp'];
      const webhookId = req.headers['webhook-id'];
      
      if (!verifyWebhookSignature(payload, signature, timestamp, webhookId, WEBHOOK_SECRET)) {
        return res.status(400).json({ error: 'Invalid signature' });
      }
      
      // Process verified webhook
      const event = JSON.parse(payload);
      handleWebhookEvent(event);
      
      res.status(200).json({ received: true });
    });
    ```
  </Tab>
  
  <Tab title="Go Implementation">
    ```go webhook-handler.go icon="go" expandable
    package main
    
    import (
        "crypto/hmac"
        "crypto/sha256"
        "encoding/base64"
        "encoding/json"
        "fmt"
        "io"
        "net/http"
        "os"
        "strings"
    )
    
    func verifyWebhookSignature(payload, signature, timestamp, webhookID, secret string) bool {
        // Construct signed payload
        signedPayload := fmt.Sprintf("%s.%s.%s", webhookID, timestamp, payload)
        
        // Compute HMAC SHA256
        h := hmac.New(sha256.New, []byte(secret))
        h.Write([]byte(signedPayload))
        expectedSignature := base64.StdEncoding.EncodeToString(h.Sum(nil))
        
        // Remove version prefix and compare
        actualSignature := strings.TrimPrefix(signature, "v1,")
        
        return hmac.Equal([]byte(expectedSignature), []byte(actualSignature))
    }
    
    func webhookHandler(w http.ResponseWriter, r *http.Request) {
        body, err := io.ReadAll(r.Body)
        if err != nil {
            http.Error(w, "Unable to read body", http.StatusBadRequest)
            return
        }
        
        signature := r.Header.Get("webhook-signature")
        timestamp := r.Header.Get("webhook-timestamp")
        webhookID := r.Header.Get("webhook-id")
        
        if !verifyWebhookSignature(string(body), signature, timestamp, webhookID, os.Getenv("DODO_WEBHOOK_SECRET")) {
            http.Error(w, "Invalid signature", http.StatusUnauthorized)
            return
        }
        
        // Process verified webhook
        var event map[string]interface{}
        if err := json.Unmarshal(body, &event); err != nil {
            http.Error(w, "Invalid JSON", http.StatusBadRequest)
            return
        }
        
        handleWebhookEvent(event)
        
        w.WriteHeader(http.StatusOK)
        json.NewEncoder(w).Encode(map[string]bool{"received": true})
    }
    ```
  </Tab>
</Tabs>

### Security Best Practices

<AccordionGroup>
  <Accordion title="Signature Verification">
    **Always verify signatures before processing webhooks:**
    
    - Use the Standard Webhooks library when available
    - Implement constant-time comparison to prevent timing attacks
    - Store webhook secrets securely (environment variables, secret managers)
    - Rotate webhook secrets periodically
  </Accordion>
  
  <Accordion title="HTTPS Requirements">
    **Use HTTPS for all webhook endpoints:**
    
    - SSL certificates are required for production webhooks
    - Use TLS 1.2 or higher
    - Verify certificate validity during testing
    - Consider using services like Let's Encrypt for free SSL
  </Accordion>
  
  <Accordion title="Idempotency">
    **Handle duplicate webhooks gracefully:**
    
    ```javascript idempotency-handler.js icon="js" expandable
    const processedWebhooks = new Set();
    
    app.post('/webhook/dodo-payments', (req, res) => {
      const webhookId = req.headers['webhook-id'];
      
      // Check if already processed
      if (processedWebhooks.has(webhookId)) {
        return res.status(200).json({ received: true, duplicate: true });
      }
      
      // Process webhook
      processWebhook(req.body);
      
      // Mark as processed
      processedWebhooks.add(webhookId);
      
      res.status(200).json({ received: true });
    });
    ```
  </Accordion>
  
  <Accordion title="Error Handling">
    **Implement robust error handling:**
    
    ```javascript error-handling.js icon="js" expandable
    app.post('/webhook/dodo-payments', async (req, res) => {
      try {
        // Verify and process webhook
        await processWebhook(req.body);
        res.status(200).json({ received: true });
      } catch (error) {
        console.error('Webhook processing error:', error);
        
        // Return 2xx for known errors to prevent retries
        if (error.type === 'BUSINESS_LOGIC_ERROR') {
          res.status(200).json({ received: true, error: 'handled' });
        } else {
          // Return 5xx for unknown errors to trigger retries
          res.status(500).json({ error: 'Internal server error' });
        }
      }
    });
    ```
  </Accordion>
</AccordionGroup>

### Response Requirements

<Note>
**Important:** Your webhook endpoint must respond with a `2xx` status code to acknowledge successful receipt. Any other response will trigger our retry mechanism.

**Timeout:** Webhook requests timeout after 15 seconds (including connection and read time).

**Content-Type:** Responses should include appropriate `Content-Type` headers (e.g., `application/json`).
</Note>

## Outgoing Webhook Payload Structure

The following section describes the structure of the outgoing webhook request sent to your endpoint. This helps you understand what to expect and how to parse the payload.

### Endpoint

```http
POST /your-webhook-url
```

### Headers

<ParamField header="webhook-id" type="string" required>
Unique identifier for the webhook event. Use this for idempotency.
</ParamField>

<ParamField header="webhook-signature" type="string" required>
HMAC SHA256 signature of the payload for verification. Format: `v1,{signature}`
</ParamField>

<ParamField header="webhook-timestamp" type="string" required>
Unix timestamp of when the webhook was sent. Used in signature calculation.
</ParamField>

<ParamField header="Content-Type" type="string" required>
Always `application/json` for webhook payloads.
</ParamField>

### Payload Structure

```json webhook-payload.json icon="code" expandable
{
  "type": "payment.succeeded",
  "data": {
    "payment_id": "pay_abc123",
    "amount": 2999,
    "currency": "USD",
    "status": "succeeded",
    "customer": {
      "customer_id": "cus_xyz789",
      "email": "customer@example.com",
      "name": "John Doe"
    },
    "created_at": "2023-12-07T10:30:00Z"
  },
  "business_id": "biz_def456",
  "timestamp": "2023-12-07T10:30:05Z"
}
```

For complete payload documentation, see our [webhook events guide](/developer-resources/webhooks/intents/webhook-events-guide).

## Troubleshooting

### Common Issues

<AccordionGroup>
  <Accordion title="Webhook Not Receiving Events">
    **Symptoms:**
    - No webhook requests reaching your endpoint
    - Events visible in dashboard but not delivered
    
    **Solutions:**
    <Steps>
      <Step title="Verify URL Configuration">
        - Ensure webhook URL is publicly accessible
        - Test URL manually with tools like curl or Postman
        - Check for typos in the configured URL
      </Step>
      <Step title="Check Firewall Settings">
        - Verify your server accepts incoming HTTPS connections
        - Check firewall rules and port configurations
        - Ensure SSL certificate is valid and trusted
      </Step>
      <Step title="Review Event Subscriptions">
        - Verify you've subscribed to the relevant events
        - Check dashboard webhook configuration
        - Ensure endpoint is active and not disabled
      </Step>
    </Steps>
  </Accordion>
  
  <Accordion title="Signature Verification Failures">
    **Symptoms:**
    - Webhooks arriving but signature verification fails
    - Getting `400` responses due to invalid signatures
    
    **Solutions:**
    <Steps>
      <Step title="Check Secret Key">
        - Verify you're using the correct webhook secret
        - Ensure secret matches the one in dashboard
        - Check for extra spaces or characters
      </Step>
      <Step title="Verify Payload Handling">
        - Ensure you're reading raw request body
        - Don't parse JSON before signature verification
        - Check for middleware that modifies the body
      </Step>
      <Step title="Debug Signature Calculation">
        ```javascript
        console.log('Webhook ID:', req.headers['webhook-id']);
        console.log('Timestamp:', req.headers['webhook-timestamp']);
        console.log('Signature:', req.headers['webhook-signature']);
        console.log('Body:', req.body.toString());
        ```
      </Step>
    </Steps>
  </Accordion>
  
  <Accordion title="Timeout Issues">
    **Symptoms:**
    - Webhooks timing out after 15 seconds
    - Multiple retries for the same event
    
    **Solutions:**
    <Steps>
      <Step title="Optimize Processing Time">
        - Respond with `200` immediately, process asynchronously
        - Use background jobs for heavy processing
        - Implement database connection pooling
      </Step>
      <Step title="Quick Response Pattern">
        ```javascript
        app.post('/webhook/dodo-payments', async (req, res) => {
          // Respond immediately
          res.status(200).json({ received: true });
          
          // Process asynchronously
          setImmediate(async () => {
            try {
              await processWebhookEvent(req.body);
            } catch (error) {
              console.error('Background processing error:', error);
            }
          });
        });
        ```
      </Step>
    </Steps>
  </Accordion>
  
  <Accordion title="Duplicate Events">
    **Symptoms:**
    - Receiving the same event multiple times
    - Duplicate processing in your system
    
    **Solutions:**
    <Steps>
      <Step title="Implement Idempotency">
        ```javascript
        const processedEvents = new Set();
        
        app.post('/webhook/dodo-payments', (req, res) => {
          const webhookId = req.headers['webhook-id'];
          
          if (processedEvents.has(webhookId)) {
            return res.status(200).json({ received: true, duplicate: true });
          }
          
          processedEvents.add(webhookId);
          // Process event...
        });
        ```
      </Step>
      <Step title="Database-Based Deduplication">
        ```javascript
        async function processWebhook(webhookId, eventData) {
          const existing = await db.webhook_events.findOne({ webhook_id: webhookId });
          if (existing) {
            return { processed: false, reason: 'duplicate' };
          }
          
          await db.webhook_events.create({ webhook_id: webhookId, processed_at: new Date() });
          // Process event...
          return { processed: true };
        }
        ```
      </Step>
    </Steps>
  </Accordion>
</AccordionGroup>

### Testing Webhooks

<Tabs>
  <Tab title="Local Development">
    **Using ngrok for local testing:**
    
    ```bash
    # Install ngrok
    npm install -g ngrok
    
    # Start your local server
    node server.js
    
    # Expose local server (replace 3000 with your port)
    ngrok http 3000
    
    # Use the HTTPS URL from ngrok in your webhook configuration
    ```
    
    **Local webhook server example:**
    ```javascript
    const express = require('express');
    const app = express();
    
    app.use(express.raw({ type: 'application/json' }));
    
    app.post('/webhook/dodo-payments', (req, res) => {
      console.log('Webhook received:');
      console.log('Headers:', req.headers);
      console.log('Body:', req.body.toString());
      
      res.status(200).json({ received: true });
    });
    
    app.listen(3000, () => {
      console.log('Webhook server running on port 3000');
    });
    ```
  </Tab>
  
  <Tab title="Test Webhook">
    **Manual webhook testing:**
    
    ```bash
    # Test your webhook endpoint
    curl -X POST https://your-domain.com/webhook/dodo-payments \
      -H "Content-Type: application/json" \
      -H "webhook-id: test-webhook-id" \
      -H "webhook-timestamp: $(date +%s)" \
      -H "webhook-signature: v1,test-signature" \
      -d '{"type":"payment.succeeded","data":{"payment_id":"test"}}'
    ```
    
    **Webhook testing tools:**
    - [webhook.site](https://webhook.site) - Temporary webhook URLs
    - [RequestBin](https://requestbin.com) - Inspect webhook requests
    - [Postman](https://postman.com) - API testing with webhook simulation
  </Tab>
  
  <Tab title="Production Testing">
    **Testing in production:**
    
    ```javascript
    // Test mode webhook handler
    app.post('/webhook/dodo-payments', (req, res) => {
      const event = JSON.parse(req.body);
      
      if (event.type === 'payment.succeeded' && event.data.payment_id.startsWith('test_')) {
        console.log('Test mode payment detected');
        // Handle test event differently
      }
      
      res.status(200).json({ received: true });
    });
    ```
    
    **Monitor webhook health:**
    ```javascript
    const webhookMetrics = {
      received: 0,
      processed: 0,
      errors: 0,
      lastReceived: null
    };
    
    app.post('/webhook/dodo-payments', async (req, res) => {
      webhookMetrics.received++;
      webhookMetrics.lastReceived = new Date();
      
      try {
        await processWebhook(req.body);
        webhookMetrics.processed++;
      } catch (error) {
        webhookMetrics.errors++;
        throw error;
      }
      
      res.status(200).json({ received: true });
    });
    
    // Health check endpoint
    app.get('/webhook/health', (req, res) => {
      res.json(webhookMetrics);
    });
    ```
  </Tab>
</Tabs>

### Getting Help

<CardGroup cols={2}>
  <Card title="Developer Support" icon="headset" href="/miscellaneous/help-support">
    Contact our technical support team for webhook implementation help
  </Card>
  <Card title="Event Reference" icon="list" href="/developer-resources/webhooks/intents/webhook-events-guide">
    Complete reference of all webhook events and payloads
  </Card>
  <Card title="Standard Webhooks" icon="external-link" href="https://standardwebhooks.com/">
    Learn more about the Standard Webhooks specification
  </Card>
  <Card title="GitHub Libraries" icon="github" href="https://github.com/standard-webhooks/standard-webhooks/tree/main/libraries">
    Official Standard Webhooks libraries for signature verification
  </Card>
</CardGroup>
</ParamField>
<ParamField header="webhook-signature" type="string" required>
Signature of the Webhook (HMAC SHA256).
</ParamField>
<ParamField header="webhook-timestamp" type="string" required>
Unix timestamp when the webhook was sent.
</ParamField>

### Request Body

The request body is a JSON object with the following structure:

```json
{
  "business_id": "string",
  "type": "payment.succeeded | payment.failed |...",
  "timestamp": "2024-01-01T12:00:00Z",
  "data": {
    "payload_type": "Payment | Subscription | Refund | Dispute | LicenseKey",
    // ... event-specific fields (see below)
  }
}
```

<Info>
For details on each event type, see the [Webhook Event Type](/developer-resources/webhooks/intents/webhook-events-guide)
</Info>
<Info>
For detailed payloads for each event type, see the [Webhook Payload Event Guide](/developer-resources/webhooks/intents/payment)
</Info>

### Responses

<ResponseField name="200" type="status code">
Webhook processed successfully. You must return a 2xx status code to acknowledge receipt.
</ResponseField>
<ResponseField name="400" type="status code">
Invalid request. The payload or headers are malformed.
</ResponseField>
<ResponseField name="401" type="status code">
Invalid webhook signature. The signature verification failed.
</ResponseField>

## Testing Webhooks

You can test your webhook integration directly from the Dodo Payments dashboard to ensure your endpoint is working correctly before going live.

### Accessing the Testing Interface

<Steps>
<Step title="Navigate to Webhooks">
    Go to your Dodo Payments Dashboard and navigate to `Settings > Webhooks`.
</Step>

<Step title="Select Your Endpoint">
    Click on your webhook endpoint to access its details page.
</Step>

<Step title="Open Testing Tab">
    Click on the **Testing** tab to access the webhook testing interface.
</Step>
</Steps>

### Testing Your Webhook

The testing interface provides a comprehensive way to test your webhook endpoint:

<Steps>
<Step title="Select Event Type">
    Use the dropdown menu to select the specific event type you want to test (e.g., `payment.succeeded`, `payment.failed`, etc.).
    
    <Info>
    The dropdown contains all available webhook event types that your endpoint can receive.
    </Info>
</Step>

<Step title="Review Schema and Example">
    The interface displays both the **Schema** (data structure) and **Example** (sample payload) for the selected event type.
</Step>

<Step title="Send Test Event">
    Click the **Send Example** button to send a test webhook to your endpoint.
    
    <Warning>
    **Important**: Failed messages sent through the testing interface will not be retried. This is for testing purposes only.
    </Warning>
</Step>
</Steps>

### Verifying Your Test

<Steps>
<Step title="Check Your Endpoint">
    Monitor your webhook endpoint logs to confirm the test event was received.
</Step>

<Step title="Verify Signature">
    Ensure your signature verification is working correctly with the test payload.
</Step>

<Step title="Test Response">
    Confirm your endpoint returns a `2xx` status code to acknowledge receipt.
</Step>
</Steps>

### Example code

An `Express.js` code snippet on how you can listen and verify our webhooks.


<Tabs>  
<Tab title="index.ts">
    ```javascript
   // index.ts in express 
const { Webhook } = require("standardwebhooks");

const webhook = new Webhook('DODO_PAYMENTS_WEBHOOK_KEY');


// Add this endpoint in the Dodo Payments Website | Side Bar -> Developer -> Webhooks -> create
app.post('/webhook/dodo-payments', async (req: any, res: any) => {
  try {
    const body = req.body;

    const webhookHeaders: WebhookUnbrandedRequiredHeaders = {
      "webhook-id": (req.headers["webhook-id"] || "") as string,
      "webhook-signature": (req.headers["webhook-signature"] || "") as string,
      "webhook-timestamp": (req.headers["webhook-timestamp"] || "") as string,
    };

    const raw = JSON.stringify(body);

    const samePayloadOutput = await webhook.verify(raw, webhookHeaders);
    console.log(samePayloadOutput == body); //should be true except the order of keys
    
    // ... Rest of your code HERE ...
    res.status(200).json({ received: true });
  } catch (error) {
    console.error('Error processing webhook:', error);
    res.status(400).json({ error: 'Webhook handler failed' });
  }
});
    ```
  </Tab>
  <Tab title="test.js">
    ```javascript
   // test.js seperate file or maybe even in the index.js with correct routes
const { Webhook } = require("standardwebhooks");

const timestamp = new Date();
const generatedId = crypto.randomUUID();

const payload = { key: "value" };
const payloadString = JSON.parse(payload);

// Create a new Webhook instance and sign the payload.
const webhookInstance = new Webhook('DODOS_DONT_FLY');
const signature = webhookInstance.sign(generatedId, timestamp, payloadString);

const headers = {
    "webhook-id": generatedId,
    "webhook-timestamp": Math.floor(timestamp.getTime() / 1000),
    "webhook-signature": signature,
    "Content-Type": "application/json" // Ensure Express parses JSON body correctly.
};

// Define the target endpoint URL.
const endpointUrl = "http://localhost:8080/webhook/dodo-payments";

// Send the POST request using Axios.
const response = await axios.post(endpointUrl, payload, { headers });

console.log("Webhook request successful, response:", response.data);
    ```
  </Tab>
</Tabs>


<Tip>
Use the testing interface to verify your webhook handler logic before processing real events. This helps catch issues early and ensures your integration is robust.
</Tip>


## Advanced Settings

The Advanced Settings tab provides additional configuration options for fine-tuning your webhook endpoint behavior.

### Rate Limiting (Throttling)

Control the rate at which webhook events are delivered to your endpoint to prevent overwhelming your system.


<Steps>
<Step title="Access Rate Limit Settings">
    In the **Advanced** tab, locate the "Rate Limit (throttling)" section.
</Step>

<Step title="Configure Rate Limit">
    Click the **Edit** button to modify the rate limit settings.
    
    <Info>
    By default, webhooks have "No rate limit" applied, meaning events are delivered as soon as they occur.
    </Info>
</Step>

<Step title="Set Limits">
    Configure your desired rate limit to control webhook delivery frequency and prevent system overload.
</Step>
</Steps>

<Tip>
Use rate limiting when your webhook handler needs time to process events or when you want to batch multiple events together.
</Tip>

### Custom Headers

Add custom HTTP headers to all webhook requests sent to your endpoint. This is useful for authentication, routing, or adding metadata to your webhook requests.

<Steps>
<Step title="Add Custom Header">
    In the "Custom Headers" section, enter a **Key** and **Value** for your custom header.
</Step>

<Step title="Add Multiple Headers">
    Click the **+** button to add additional custom headers as needed.
</Step>

<Step title="Save Configuration">
    Your custom headers will be included in all webhook requests to this endpoint.
</Step>
</Steps>


### Transformations

Transformations allow you to modify a webhook's payload and redirect it to a different URL. This powerful feature enables you to:

- Modify the payload structure before processing
- Route webhooks to different endpoints based on content
- Add or remove fields from the payload
- Transform data formats

<Steps>
<Step title="Enable Transformations">
    Toggle the **Enabled** switch to activate the transformation feature.
</Step>

<Step title="Configure Transformation">
    Click **Edit transformation** to define your transformation rules.
    
    <Info>
    You can use JavaScript to transform the webhook payload and specify a different target URL.
    </Info>
</Step>

<Step title="Test Transformation">
    Use the testing interface to verify your transformation works correctly before going live.
</Step>
</Steps>

<Warning>
Transformations can significantly impact webhook delivery performance. Test thoroughly and keep transformation logic simple and efficient.
</Warning>

<Tip>
Transformations are particularly useful for:
- Converting between different data formats
- Filtering events based on specific criteria
- Adding computed fields to the payload
- Routing events to different microservices
</Tip>

## Monitoring Webhook Logs

The Logs tab provides comprehensive visibility into your webhook delivery status, allowing you to monitor, debug, and manage webhook events effectively.

## Activity Monitoring

The Activity tab provides real-time insights into your webhook delivery performance with visual analytics.

----

We look forward to helping you implement seamless real-time notifications with webhooks! If you have any questions, please don't hesitate to reach out to our support team.

