---
title: Mobile Integration Guide
icon: "mobile"
description: Unified guide for integrating Dodo Payments into Android, iOS, and Flutter mobile applications.
---

## Overview

This comprehensive guide walks you through integrating Dodo Payments into your mobile applications across Android, iOS, and Flutter platforms. You'll learn about secure payment handling, platform-specific implementations, and best practices for mobile commerce.

<CardGroup cols={2}>
  <Card title="Android Integration" icon="android" href="#android">
    Chrome Custom Tabs integration with secure payment handling
  </Card>
  <Card title="iOS Integration" icon="apple" href="#ios">
    SFSafariViewController with Universal Links support
  </Card>
  <Card title="Flutter Integration" icon="mobile-screen" href="#flutter">
    Cross-platform WebView implementation
  </Card>
  <Card title="React Native" icon="react" href="/developer-resources/react-native-integration">
    Dedicated React Native integration guide
  </Card>
</CardGroup>

## Prerequisites

Before you begin mobile integration, ensure you have:

<Note>
**Required:**
- A Dodo Payments merchant account ([get started here](https://demo.dodopayments.com/))
- API credentials (API key and webhook secret key) from your dashboard
- Mobile development environment (Android Studio, Xcode, or Flutter)
- At least one product created in your Dodo Payments dashboard

**Recommended:**
- Basic knowledge of mobile app development
- Understanding of webhook handling
- SSL certificate for webhook endpoints
</Note>

### Platform-Specific Requirements

<Tabs>
  <Tab title="Android">
    - Android API level 21+ (Android 5.0)
    - Chrome Custom Tabs dependency
    - Deep link configuration in manifest
  </Tab>
  <Tab title="iOS">
    - iOS 11.0+
    - SFSafariViewController support
    - URL scheme or Universal Links configured
  </Tab>
  <Tab title="Flutter">
    - Flutter 2.0+
    - webview_flutter plugin
    - Platform-specific configurations
  </Tab>
</Tabs>

## Dashboard Setup
<Steps>
<Step title="Access the Dashboard">
Go to the <a href="https://app.dodopayments.com/" target="_blank">Dodo Payments Dashboard</a>.
</Step>
<Step title="Create a Product">
Set up a one-time or subscription product.
</Step>
<Step title="Test the Checkout Flow">
Share and open the product link, use test card `4242 4242 4242 4242` with any future expiry and 3-digit CVV.
</Step>
<Step title="Generate API Key">
Settings → API. <a href="/api-reference/introduction#api-key-generation">See guide</a>.
</Step>
<Step title="Configure Webhooks">
Settings → Webhooks. <a href="/developer-resources/webhooks/intents/webhook-events-guide">See guide</a>.
</Step>
</Steps>

## Integration Workflow

Mobile payment integration with Dodo Payments follows a secure, three-step process:

<Steps>
<Step title="Choose Payment Link Method">
Select either static or dynamic payment links based on your app's needs:

<Tabs>
  <Tab title="Static Payment Links">
    **Best for:** Simple, predefined products with fixed pricing
    
    ```text
    https://checkout.dodopayments.com/buy/{product_id}?quantity=1&redirect_url={return_url}
    ```
    
    **Example:**
    ```text
    https://checkout.dodopayments.com/buy/pdt_abc123?quantity=1&redirect_url=myapp://payment-success
    ```
    
    **Query Parameters:**
    - `quantity`: Number of items (default: 1)
    - `redirect_url`: Where to redirect after payment
    - `email`: Pre-fill customer email
    - `firstName`: Pre-fill first name
    - `lastName`: Pre-fill last name
  </Tab>
  
  <Tab title="Dynamic Payment Links">
    **Best for:** Custom pricing, multiple products, or dynamic data
    
    <Tabs>
      <Tab title="Swift (iOS)">
        ```swift
        import Foundation
        
        struct PaymentRequest: Codable {
            let paymentLink: Bool
            let billing: BillingInfo
            let customer: CustomerInfo
            let productCart: [ProductItem]
            let returnUrl: String
            
            enum CodingKeys: String, CodingKey {
                case paymentLink = "payment_link"
                case billing, customer
                case productCart = "product_cart"
                case returnUrl = "return_url"
            }
        }
        
        struct BillingInfo: Codable {
            let city: String
            let country: String
            let state: String
            let street: String
            let zipcode: String
        }
        
        struct CustomerInfo: Codable {
            let email: String
            let name: String
        }
        
        struct ProductItem: Codable {
            let productId: String
            let quantity: Int
            
            enum CodingKeys: String, CodingKey {
                case productId = "product_id"
                case quantity
            }
        }
        
        struct PaymentResponse: Codable {
            let paymentLink: String
            
            enum CodingKeys: String, CodingKey {
                case paymentLink = "payment_link"
            }
        }
        
        func createPaymentLink() async throws -> String {
            // Use correct API endpoint from OpenAPI spec
            let baseUrl = "https://test.dodopayments.com" // or "https://live.dodopayments.com" for production
            let url = URL(string: "\(baseUrl)/payments")!
            
            var request = URLRequest(url: url)
            request.httpMethod = "POST"
            request.setValue("Bearer \(YOUR_API_KEY)", forHTTPHeaderField: "Authorization")
            request.setValue("application/json", forHTTPHeaderField: "Content-Type")
            
            let paymentRequest = PaymentRequest(
                paymentLink: true,
                billing: BillingInfo(
                    city: "San Francisco",
                    country: "US",
                    state: "CA",
                    street: "123 Main St",
                    zipcode: "94105"
                ),
                customer: CustomerInfo(
                    email: "customer@example.com",
                    name: "John Doe"
                ),
                productCart: [
                    ProductItem(productId: "pdt_abc123", quantity: 1)
                ],
                returnUrl: "myapp://payment-status"
            )
            
            request.httpBody = try JSONEncoder().encode(paymentRequest)
            
            let (data, response) = try await URLSession.shared.data(for: request)
            
            if let httpResponse = response as? HTTPURLResponse,
               httpResponse.statusCode != 200 {
                throw PaymentError.apiError("Failed to create payment link")
            }
            
            let paymentResponse = try JSONDecoder().decode(PaymentResponse.self, from: data)
            return paymentResponse.paymentLink
        }
        
        enum PaymentError: Error {
            case apiError(String)
        }
        ```
      </Tab>
      
      <Tab title="Kotlin (Android)">
        ```kotlin
        import kotlinx.coroutines.Dispatchers
        import kotlinx.coroutines.withContext
        import kotlinx.serialization.Serializable
        import kotlinx.serialization.json.Json
        import java.net.HttpURLConnection
        import java.net.URL
        
        @Serializable
        data class PaymentRequest(
            val payment_link: Boolean,
            val billing: BillingInfo,
            val customer: CustomerInfo,
            val product_cart: List<ProductItem>,
            val return_url: String
        )
        
        @Serializable
        data class BillingInfo(
            val city: String,
            val country: String,
            val state: String,
            val street: String,
            val zipcode: String
        )
        
        @Serializable
        data class CustomerInfo(
            val email: String,
            val name: String
        )
        
        @Serializable
        data class ProductItem(
            val product_id: String,
            val quantity: Int
        )
        
        @Serializable
        data class PaymentResponse(
            val payment_link: String
        )
        
        suspend fun createPaymentLink(): String = withContext(Dispatchers.IO) {
            // Use correct API endpoint from OpenAPI spec
            val baseUrl = "https://test.dodopayments.com" // or "https://live.dodopayments.com" for production
            val url = URL("$baseUrl/payments")
            
            val connection = url.openConnection() as HttpURLConnection
            connection.requestMethod = "POST"
            connection.setRequestProperty("Authorization", "Bearer $YOUR_API_KEY")
            connection.setRequestProperty("Content-Type", "application/json")
            connection.doOutput = true
            
            val paymentRequest = PaymentRequest(
                payment_link = true,
                billing = BillingInfo(
                    city = "San Francisco",
                    country = "US",
                    state = "CA",
                    street = "123 Main St",
                    zipcode = "94105"
                ),
                customer = CustomerInfo(
                    email = "customer@example.com",
                    name = "John Doe"
                ),
                product_cart = listOf(
                    ProductItem(product_id = "pdt_abc123", quantity = 1)
                ),
                return_url = "myapp://payment-status"
            )
            
            val json = Json.encodeToString(PaymentRequest.serializer(), paymentRequest)
            connection.outputStream.write(json.toByteArray())
            
            if (connection.responseCode != 200) {
                throw Exception("Failed to create payment link: ${connection.responseMessage}")
            }
            
            val response = connection.inputStream.bufferedReader().readText()
            val paymentResponse = Json.decodeFromString(PaymentResponse.serializer(), response)
            paymentResponse.payment_link
        }
        ```
      </Tab>
      
      <Tab title="Dart (Flutter)">
        ```dart
        import 'dart:convert';
        import 'package:http/http.dart' as http;
        
        class PaymentService {
          static const String baseUrl = 'https://test.dodopayments.com'; // Use live URL for production
          static const String apiKey = 'YOUR_API_KEY'; // Store securely!
          
          static Future<String> createPaymentLink({
            required String productId,
            required int quantity,
            required String customerEmail,
            required String customerName,
            required String returnUrl,
          }) async {
            final url = Uri.parse('$baseUrl/payments');
            
            final paymentData = {
              'payment_link': true,
              'billing': {
                'city': 'San Francisco',
                'country': 'US',
                'state': 'CA',
                'street': '123 Main St',
                'zipcode': '94105'
              },
              'customer': {
                'email': customerEmail,
                'name': customerName
              },
              'product_cart': [
                {
                  'product_id': productId,
                  'quantity': quantity
                }
              ],
              'return_url': returnUrl
            };
            
            try {
              final response = await http.post(
                url,
                headers: {
                  'Authorization': 'Bearer $apiKey',
                  'Content-Type': 'application/json',
                },
                body: jsonEncode(paymentData),
              );
              
              if (response.statusCode == 200) {
                final responseData = jsonDecode(response.body);
                return responseData['payment_link'];
              } else {
                throw Exception('Failed to create payment link: ${response.statusCode}');
              }
            } catch (e) {
              throw Exception('Network error: $e');
            }
          }
        }
        ```
      </Tab>
    </Tabs>
    
    <Warning>
      **Security Note:** Never hardcode API keys in your mobile app. Use secure storage mechanisms or server-side API calls.
    </Warning>
  </Tab>
</Tabs>
</Step>
<Step title="Open Payment Link in App">
Open the payment link in your mobile app using a secure in-app browser or web view. This ensures a seamless and secure payment experience.

<Tip>
Use Chrome Custom Tabs (Android), SFSafariViewController (iOS), or WebView (Flutter) for best results.
</Tip>

See the Platform-Specific Integration section below for code examples.
</Step>
<Step title="Handle Payment Completion Callback">
After payment, Dodo Payments will redirect to your specified return URL. Handle this callback in your app to confirm payment status.

**Webhook Example (Node.js/Express):**

```javascript
// index.ts in express 
const { Webhook } = require("standardwebhooks");
const webhook = new Webhook('DODO_PAYMENTS_WEBHOOK_KEY');
app.post('/webhook/dodo-payments', async (req, res) => {
  try {
    const body = req.body;
    const webhookHeaders = {
      "webhook-id": req.headers["webhook-id"] || "",
      "webhook-signature": req.headers["webhook-signature"] || "",
      "webhook-timestamp": req.headers["webhook-timestamp"] || "",
    };
    const raw = JSON.stringify(body);
    const samePayloadOutput = await webhook.verify(raw, webhookHeaders);
    console.log(samePayloadOutput == body); //should be true except the order of keys
    // ... Rest of your code HERE ...
    res.status(200).json({ received: true });
  } catch (error) {
    console.error('Error processing webhook:', error);
    res.status(400).json({ error: 'Webhook handler failed' });
  }
});
```

**Test Webhook (Node.js):**

```javascript
// test.js
const { Webhook } = require("standardwebhooks");
const timestamp = new Date();
const generatedId = crypto.randomUUID();
const payload = { key: "value" };
const payloadString = JSON.parse(payload);
const webhookInstance = new Webhook('DODOS_DONT_FLY');
const signature = webhookInstance.sign(generatedId, timestamp, payloadString);
const headers = {
    "webhook-id": generatedId,
    "webhook-timestamp": Math.floor(timestamp.getTime() / 1000),
    "webhook-signature": signature,
    "Content-Type": "application/json"
};
const endpointUrl = "http://localhost:8080/webhook/dodo-payments";
const response = await axios.post(endpointUrl, payload, { headers });
console.log("Webhook request successful, response:", response.data);
```
</Step>
</Steps>

## Platform-Specific Integration
<Tabs>
<Tab title="Android">

### Android Integration

#### Using Chrome Custom Tabs

```kotlin
// Add Chrome Custom Tabs dependency to build.gradle
implementation 'androidx.browser:browser:1.5.0'

// In your Activity
class PaymentActivity : AppCompatActivity() {
    private var customTabsSession: CustomTabsSession? = null
    private var customTabsClient: CustomTabsClient? = null
    private var customTabsServiceConnection: CustomTabsServiceConnection? = null

    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        // Initialize Custom Tabs
        customTabsServiceConnection = object : CustomTabsServiceConnection() {
            override fun onCustomTabsServiceConnected(name: ComponentName, client: CustomTabsClient) {
                customTabsClient = client
                customTabsClient?.warmup(0L)
                customTabsSession = customTabsClient?.newSession(object : CustomTabsCallback() {
                    override fun onNavigationEvent(navigationEvent: Int, extras: Bundle?) {
                        // Handle navigation events
                    }
                })
            }
            override fun onServiceDisconnected(name: ComponentName) {
                customTabsClient = null
            }
        }
        CustomTabsClient.bindCustomTabsService(
            this,
            "com.android.chrome",
            customTabsServiceConnection!!
        )
        // Launch payment link
        val paymentLink = "https://checkout.dodopayments.com/buy/{productid}"
        val customTabsIntent = CustomTabsIntent.Builder(customTabsSession)
            .build()
        customTabsIntent.launchUrl(this, Uri.parse(paymentLink))
    }
}
```

</Tab>
<Tab title="iOS">

### iOS Integration

#### Using SFSafariViewController

```swift
import SafariServices
class PaymentViewController: UIViewController {
    override func viewDidLoad() {
        super.viewDidLoad()
        let paymentLink = "https://checkout.dodopayments.com/buy/{productid}"
        if let url = URL(string: paymentLink) {
            let safariVC = SFSafariViewController(url: url)
            present(safariVC, animated: true, completion: nil)
        }
    }
}
```

#### Handling Apple Pay Redirects

1. Set the `redirect_url` to a custom scheme or Universal Link:
   ```swift
   // Custom URL Scheme
   myapp://payment-status?payment_id=xyz&status=succeeded
   // Universal Link
   https://myapp.com/payment-status?payment_id=xyz&status=succeeded
   ```
2. Handle the redirect in AppDelegate:
   ```swift
   func application(_ app: UIApplication, open url: URL, options: [UIApplication.OpenURLOptionsKey : Any] = [:]) -> Bool {
       if url.scheme == "myapp" && url.host == "payment-status" {
           NotificationCenter.default.post(name: .paymentCompleted, object: url)
           return true
       }
       return false
   }
   ```
3. Add observer in your view controller:
   ```swift
   NotificationCenter.default.addObserver(self, selector: #selector(handlePaymentCompletion(_:)), name: .paymentCompleted, object: nil)
   @objc func handlePaymentCompletion(_ notification: Notification) {
       if let url = notification.object as? URL {
           safariVC?.dismiss(animated: true)
           // Parse and handle the payment status here
       }
   }
   ```
<Info>Register your custom URL scheme in Info.plist under URL Types.</Info>

</Tab>
<Tab title="Flutter">

### Flutter Integration

```dart
import 'package:flutter/material.dart';
import 'package:webview_flutter/webview_flutter.dart';
class PaymentScreen extends StatefulWidget {
  @override
  _PaymentScreenState createState() => _PaymentScreenState();
}
class _PaymentScreenState extends State<PaymentScreen> {
  late WebViewController _controller;
  final String paymentLink = "https://checkout.dodopayments.com/buy/{productid}";
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Payment')),
      body: WebView(
        initialUrl: paymentLink,
        javascriptMode: JavascriptMode.unrestricted,
        onWebViewCreated: (WebViewController webViewController) {
          _controller = webViewController;
        },
        navigationDelegate: (NavigationRequest request) {
          if (request.url.contains('payment_id') && request.url.contains('status')) {
            // Handle payment completion
            final uri = Uri.parse(request.url);
            final paymentId = uri.queryParameters['payment_id'];
            final status = uri.queryParameters['status'];
            handlePaymentCompletion(paymentId, status);
            return NavigationDecision.prevent;
          }
          return NavigationDecision.navigate;
        },
      ),
    );
  }
  void handlePaymentCompletion(String? paymentId, String? status) {
    if (status == 'succeeded') {
      // Payment successful
    } else {
      // Payment failed
    }
  }
}
```

<Tip>
Use WebView for payment links. Handle the redirect URL to detect payment completion.
</Tip>

</Tab>
</Tabs>

## Best Practices

- **Security**: Never store API keys in your app code. Use secure storage and SSL pinning.
- **User Experience**: Show loading indicators, handle errors gracefully, and provide clear messages.
- **Testing**: Use test cards, simulate network errors, and test on various devices.

## Troubleshooting
### Common Issues

- **WebView not opening payment link**: Ensure the payment link is valid and uses HTTPS.
- **Callback not received**: Check your return URL and webhook configuration.
- **API key errors**: Verify that your API key is correct and has the necessary permissions.


## Additional Resources
- [Payment Integration Guide](/developer-resources/integration-guide)
- [Webhook Documentation](/developer-resources/webhooks/intents/webhook-events-guide)
- [Testing Process](/miscellaneous/testing-process)
- [Technical FAQs](/api-reference/technical-faqs)

<Check>
For questions or support, contact <a href="mailto:support@dodopayments.com">support@dodopayments.com</a>.
</Check> 